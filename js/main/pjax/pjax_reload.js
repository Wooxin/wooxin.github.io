document.addEventListener("DOMContentLoaded",function(){let n=document.getElementById("recent-posts"),o=document.getElementById("mid-right"),i=0,l=null;function r(){window.initWordCountOnly&&initWordCountOnly(),window.initReadingTimeOnly&&initReadingTimeOnly(),window.ReadingProgress&&"function"==typeof ReadingProgress.init&&ReadingProgress.init(),window.initLayoutTopSync&&initLayoutTopSync(),reloadGiscus(),setTimeout(s,100)}function s(){var t=document.querySelectorAll('#mid-right .content-table, #mid-right table:not(.highlight):not([class*="code"]):not([class*="language-"])');0!==t.length&&t.forEach(t=>{var e;t.closest(".highlight")||t.closest(".code")||t.querySelector("code")||t.classList.contains("hljs")||t.classList.contains("content-table")||(t.classList.add("content-table"),e=t.style.display,t.style.display="none",t.style.display=e||"")})}r(),document.addEventListener("click",function(t){let e=t.target.closest("#recent-posts a, #top-mid-option a");e&&(t.preventDefault(),l&&l.abort(),i=n.scrollTop,o.style.opacity="0.7",l=new AbortController,fetch(e.href,{signal:l.signal}).then(t=>t.text()).then(t=>{t=(new DOMParser).parseFromString(t,"text/html"),document.title=t.title,t=t.getElementById("mid-right");t&&(o.innerHTML=t.innerHTML,setTimeout(()=>{r(),s()},50)),window.history.pushState({},"",e.href),n.scrollTop=i,o.style.opacity="1"}).catch(t=>{"AbortError"!==t.name&&(window.location.href=e.href)}))}),window.addEventListener("popstate",function(){l&&l.abort(),l=new AbortController,fetch(window.location.href,{signal:l.signal}).then(t=>t.text()).then(t=>{t=(new DOMParser).parseFromString(t,"text/html").getElementById("mid-right");t&&(o.innerHTML=t.innerHTML,setTimeout(()=>{r(),s()},50)),n.scrollTop=i})})});